<!-- fragments/rapid-button.html -->
<div th:fragment="rapidButton">
	<!-- Modale TimerRapidButton -->
		<div id="modalRapidButton" class="fixed top-0 left-0 w-full h-full bg-[#0057A5] bg-opacity-50  flex justify-center items-center z-0 scale-0">
			<div class="w-11/12 md:w-[550px] h-auto border-2 border-[#0057A5] bg-[#0057A5] rounded-lg z-10 scale-100 duration-500">
				<div class="grid grid-cols-12 p-1">
					<div class="col-span-11 flex justify-center items-center text-white font-bold">GESTIONE RAPIDA TASK</div>
					<div class="col-span-1">
						<div id="modalRapidCloseButton" class=" p-1 cursor-pointer text-center">
							<img class="h-[30px] w-[30px]" src="/img/sources/icons/close-button-yellow.svg" alt="chiudi">
						</div>
					</div>
				</div>
				<div class="w-full h-auto bg-white rounded-b-lg">
					<div th:unless="${taskList.isEmpty()}" id="rapid-task" class="">
							<div class="flex flex-col justify-center p-2 text-center">
								<div class=" text-[#0057A5]">
									<h2 id="search-and-select-title" class=" md:mx-4 font-bold max-md:text-sm mb-2 md:mb-3">Ricerca o seleziona il task su cui lavorare:</h2>
									<div id="search-and-select-buttons-container" class="flex flex-col md:flex-row justify-around px-3 mb-3 md:mb-6">
										<button type="button" id="search-task-button"
											class="w-full md:w-[45%] shadow-md shadow-blue-500/50 border-2 border-[#0057A5] hover:bg-[#FFE541] text-[#0057A5] font-bold px-3 py-[5px] rounded-[35px] max-md:mb-2">
											<img class="h-[20px] w-[20px] md:h-[25px] md:w-[25px] inline" src="/img/sources/icons/search-blue.svg">
											<span class="max-md:text-sm">Ricerca il tuo task</span>
										</button>
										<button type="button" id="select-task-button"
											class="w-full md:w-[45%] shadow-md shadow-blue-500/50 border-2 border-[#0057A5] hover:bg-[#FFE541] text-[#0057A5] font-bold px-3 py-[5px] rounded-[35px]">
											<img class="h-[20px] w-[20px] md:h-[25px] md:w-[25px] inline" src="/img/sources/icons/list-blue.svg">
											<span class="max-md:text-sm">Seleziona da elenco</span>
										</button>
									</div>
									<div id="back-task-rapid-button-container" class="hidden m-4">
										<button type="button" id="back-task-rapid-button"
											class="w-auto shadow-md shadow-blue-500/50 border-2 border-[#0057A5] hover:bg-[#FFE541] text-[#0057A5] font-bold px-3 py-[5px] rounded-[35px]">
											<img class="h-[20px] w-[20px] md:h-[25px] md:w-[25px] inline" src="/img/sources/icons/arrow-left-blue.svg">
											<span class="text-center text-nowrap max-md:text-sm">Torna alla ricerca/selezione</span>
										</button>
									</div>
									<!-- Inizio selectMode del rapid button -->
									<div id="select-mode" class="hidden w-full overflow-y-auto border border-[#0057A5] rounded-l-lg mb-2">
										<div class="w-full h-32 ">
												<div class="w-full h-8 border-b border-[#0057A5] bg-gray-100 grid grid-cols-8">
													<span class="border-r col-span-3 text-center text-[#0057A5]">Cliente</span>
													<span class="border-r col-span-2 text-center text-[#0057A5]">Progetto</span>
													<span class="border-r col-span-2 text-center text-[#0057A5]">Task</span>
													<span class="border-r col text-center text-[#0057A5]">Stato</span>
												</div>
												<div id="items-select-mode">											
												</div>
										</div>
									</div>
									<!-- Fine selectMode del rapid button -->
									
									<!-- Inizio searchMode del rapid button -->
									<div id="search-mode" class="hidden w-full mb-2">
										<div class="flex justify-center">
											<input type="text" placeholder="Ricerca per Cliente/Progetto/Task..."
												class="w-[300px] mb-2 border border-[#0057A5] h-8  text-[#0057A5] rounded-lg block w-[70%]  px-4 focus:outline-none"
												id="form-search-input" name="input" oninput="getJsonTaskListSearch(value)">
											</input>										
										</div>
										<div class="w-full h-32 overflow-y-auto border border-[#0057A5] rounded-l-lg">
											<div class="w-full h-8 border-b border-[#0057A5] bg-gray-100 grid grid-cols-8">
												<span class="border-r col-span-3 text-center text-[#0057A5]">Cliente</span>
												<span class="border-r col-span-2 text-center text-[#0057A5]">Progetto</span>
												<span class="border-r col-span-2 text-center text-[#0057A5]">Task</span>
												<span class="border-r col text-center text-[#0057A5]">Stato</span>
											</div>
											<div id="items-from-search">											
											</div>
										</div>
									</div>
									<!-- Fine searchMode del rapid button -->
								</div>
							</div>
					</div>
					<div th:if="${taskList.isEmpty()}" class="text-center text-[#0057A5] font-bold p-10">Nessun Task inserito</div>
					<!-- Inizio sezione resume task -->
					<div id="taskResumeTable" class="hidden text-[#0057A5]">
						<div class="w-full h-auto">
							<div id="taskResumeBody" class="p-3 text-center mx-2">
								<div class="mx-auto max-w-md bg-white rounded-xl shadow-md shadow-blue-500/50 overflow-hidden min-w-full p-2">
									<div class="grid grid-cols-12 h-full mb-2 p-1 border-b">
										<div class="col-span-11 flex justify-center">
											<h3 id="taskNome" class="w-4/5 text-[#FFE541] font-bold truncate"></h3>										
										</div>
										<div class="col-span-1">
											<div class="flex justify-center items-center">
												<img id="task-stato" class="h-5">
											</div>										
										</div>
									</div>	
									<div class="grid grid-cols-12 h-2/3 ps-1">
										<div class="col-span-2 md:col-span-3 h-20 flex justify-center items-center">
											<img id="taskLogoPath" class="max-h-16 w-auto">
										</div>
										<div class="col-span-10 md:col-span-9">
											<div class="grid grid-cols-7 flex items-center max-md:text-sm">
												<div class="col-span-3 md:col-span-2 font-bold ps-1 md:ps-3 py-1 text-start">Cliente</div>
												<a id="taskCliente" class="col-span-4 md:col-span-4 py-1 hover:underline text-start truncate">
												</a>										
											</div>
											<div class="grid grid-cols-7 flex items-center max-md:text-sm">
												<div class="col-span-3 md:col-span-2 font-bold ps-1 md:ps-3 py-1 text-start">Progetto</div>
												<a id="taskProgetto" class="col-span-4 md:col-span-4 py-1 hover:underline text-start truncate">									
												</a>
											</div>
											<div class="grid grid-cols-7 flex items-center max-md:text-sm">
												<div class="col-span-3 md:col-span-2 font-bold ps-1 md:ps-3 py-1 text-start">WorkTime</div>
												<div id="work-time" class="col-span-4 md:col-span-4 py-1 text-start truncate">
													00:00:00
												</div>
											</div>
										</div>
									</div>							
										
								</div>
							</div>
							<div class="flex justify-center p-3">
								<!-- Inizio sezione contatore -->
								<div id="contatore-task-rapid" class="hidden w-full md:w-4/5 h-fit border-4 border-[#0057A5] bg-[#ffe541] rounded-[35px] py-1 px-1 md:px-3">
									<div class="flex justify-between items-center text-[#0057A5] font-bold">
										<div class="col-auto md:ms-2">
											<img class="h-9 w-9 md:w-10 md:h-10" src="/img/sources/icons/contatore-blue.svg" alt="contatore">
										</div>
										<div class="flex flex-col items-center">
											<div  class="col-auto text-[18px] md:text-[24px] p-0" id="timerResumeTask">00:00:00</div>
										</div>
										<div class="col-auto flex items-center">
											<div id="contatore-rapid-button-stop" class=" md:mx-1 lg:mx-2">
												<div class="mx-1 w-50">
													<button id="stopButtonTaskRapid" type="button" 
													 		class="flex justify-center items-center hover:opacity-75"
															onclick="apriModale()">
														<img class="h-9 w-9 md:w-10 md:h-10" src="/img/sources/icons/stop-blue.svg" alt="stop">
													</button>												
												</div>
											</div>
											<div id="contatore-rapid-button-pause" class="md:mx-1 lg:mx-2">
												<form class="mx-1 w-50 " id="form-pause-contatore" method="post">
													<input type="hidden" name="endPoint" th:value="${endPoint}">
													<button id="pause-button" type="submit" class="flex justify-center items-center hover:opacity-75">
														<img class="h-9 w-9 md:w-10 md:h-10" src="/img/sources/icons/pause-blue.svg" alt="start">
													</button>
												</form>
											</div>
											<div id="contatore-rapid-button-start" class="md:mx-1 lg:mx-2">
												<form class="mx-1 w-50" id="form-start-contatore" method="post">
													<input type="hidden" name="endPoint" th:value="${endPoint}"> 
													<button id="start-button" type="submit" class="flex justify-center items-center hover:opacity-75">
														<img class="h-9 w-9 md:w-10 md:h-10" src="/img/sources/icons/play-blue.svg" alt="start">
													</button>
												</form>
											</div>
										</div>
									</div>
								</div>
								<!-- fine sezione contatore -->
								<!-- Inizio sezione ore lavorate -->
								<div id="ore-lavorate-task-rapid-container" class="hidden w-[90%] h-fit">
									<div class="flex flex-row justify-center p-2">
										<form id="taskDetailHrefOre" th:object="${contatore}"
												method="post">
											<h2 class="text-center font-bold mb-3">Inserimento ore lavorate</h2>
											<div class="p-1">
												<div class="grid grid-cols-2 flex items-center mb-2">
													<p class="col mb-2 font-semibold">Inserisci la data</p>

													<input type="date" name="date"
														th:value="${#dates.format(#dates.createNow(), 'yyyy-MM-dd')}"
														class=" col md:text-xl border border-[#0057A5] h-8  text-[#0057A5] rounded-lg block w-full text-center bg-[#ffe541]/50"
														id="dataOreLavorate">
												</div>
												<div class="grid grid-cols-2 flex items-center mb-2">
													<p class="col font-semibold">Inserisci ore</p>
													<input type="time" name="time" value="01:00"
														class="col h-8 md:text-xl border border-[#0057A5] text-[#0057A5] rounded-lg block w-full text-center	bg-[#ffe541]/50"
														id="tempoOreLavorate">												
												</div>
												<div
													class="grid grid-cols-1  md:grid-cols-2 flex items-center mb-3">
													<div
														class="col flex items-center justify-start md:justify-end max-md:py-1">
														<input type="radio" name="aggiungiOre" checked="checked" id="aggiungiOre"
															value="1"> <label for="aggiungiOre" class="pe-1">Aggiungi
															al task attivo</label>
													</div>
													<div
														class="col text-left  flex items-center justify-start max-md:py-1">
														<input type="radio" name="aggiungiOre" 
															id="sovrascriviOre" value="0"> <label
															for="sovrascriviOre" class="ps-1">Sovrascrivi e
															chiudi task</label><br>
													</div>
												</div>
												<div class="text-center">
													<button class="col w-fit shadow-md shadow-blue-500/50 border-2 border-[#0057A5] hover:bg-[#FFE541] text-[#0057A5] font-bold px-3 py-[5px] rounded-[35px]" 
														type="submit">
															Aggiungi
													</button>													
												</div>
											</div>
										</form>
									</div>
								</div>
								<!-- fine sezione ore lavorate -->
							</div>
							<!-- Inizio sezione pulsanti opzione -->
							<div id="options-buttons" class="flex justify-around items-center bg-[#0057A5] p-3 w-full rounded-b-lg">
								<button type="button" id="contatore-task-rapid-button"
									class="flex flex-col justify-center items-center w-1/5 text-[#FFE541] font-bold ">
									<img class="h-[30px] w-[30px] mb-1" src="/img/sources/icons/contatore-yellow.svg">
									<span class="text-[8px]">CONTATORE</span>
								</button>
								<button type="button" id="ore-lavorate-task-rapid-button"
									class="flex flex-col justify-center items-center w-1/5 text-[#FFE541] font-bold ">
									<img class="h-[30px] w-[30px] mb-1" src="/img/sources/icons/orelavorate.svg">
									<span class="text-[8px]">ORE LAVORATE</span>
								</button>
								<a id="taskDetailHref"
									class="flex flex-col justify-center items-center w-1/5 text-[#FFE541] font-bold text-[8px]">
									<img class=" h-[30px] w-[30px] mb-1" src="/img/sources/icons/board-tabloid-yellow.svg">
									<span class="">DETTAGLIO</span>
								</a>
							</div>
							<!-- fine sezione pulsanti opzione -->
						</div>
					</div>
					<!-- fine sezione resume task -->
				</div>
			</div>
		</div>
</div>
